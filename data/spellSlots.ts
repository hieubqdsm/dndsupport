export const FULL_CASTER_SLOTS = [
    // Class Level 1-20
    [2, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 1
    [3, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 2
    [4, 2, 0, 0, 0, 0, 0, 0, 0], // Lvl 3
    [4, 3, 0, 0, 0, 0, 0, 0, 0], // Lvl 4
    [4, 3, 2, 0, 0, 0, 0, 0, 0], // Lvl 5
    [4, 3, 3, 0, 0, 0, 0, 0, 0], // Lvl 6
    [4, 3, 3, 1, 0, 0, 0, 0, 0], // Lvl 7
    [4, 3, 3, 2, 0, 0, 0, 0, 0], // Lvl 8
    [4, 3, 3, 3, 1, 0, 0, 0, 0], // Lvl 9
    [4, 3, 3, 3, 2, 0, 0, 0, 0], // Lvl 10
    [4, 3, 3, 3, 2, 1, 0, 0, 0], // Lvl 11
    [4, 3, 3, 3, 2, 1, 0, 0, 0], // Lvl 12
    [4, 3, 3, 3, 2, 1, 1, 0, 0], // Lvl 13
    [4, 3, 3, 3, 2, 1, 1, 0, 0], // Lvl 14
    [4, 3, 3, 3, 2, 1, 1, 1, 0], // Lvl 15
    [4, 3, 3, 3, 2, 1, 1, 1, 0], // Lvl 16
    [4, 3, 3, 3, 2, 1, 1, 1, 1], // Lvl 17
    [4, 3, 3, 3, 3, 1, 1, 1, 1], // Lvl 18
    [4, 3, 3, 3, 3, 2, 1, 1, 1], // Lvl 19
    [4, 3, 3, 3, 3, 2, 2, 1, 1], // Lvl 20
];

export const HALF_CASTER_SLOTS = [
    // Class Level 1-20 (Paladin, Ranger)
    [0, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 1
    [2, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 2
    [3, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 3
    [3, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 4
    [4, 2, 0, 0, 0, 0, 0, 0, 0], // Lvl 5
    [4, 2, 0, 0, 0, 0, 0, 0, 0], // Lvl 6
    [4, 3, 0, 0, 0, 0, 0, 0, 0], // Lvl 7
    [4, 3, 0, 0, 0, 0, 0, 0, 0], // Lvl 8
    [4, 3, 2, 0, 0, 0, 0, 0, 0], // Lvl 9
    [4, 3, 2, 0, 0, 0, 0, 0, 0], // Lvl 10
    [4, 3, 3, 0, 0, 0, 0, 0, 0], // Lvl 11
    [4, 3, 3, 0, 0, 0, 0, 0, 0], // Lvl 12
    [4, 3, 3, 1, 0, 0, 0, 0, 0], // Lvl 13
    [4, 3, 3, 1, 0, 0, 0, 0, 0], // Lvl 14
    [4, 3, 3, 2, 0, 0, 0, 0, 0], // Lvl 15
    [4, 3, 3, 2, 0, 0, 0, 0, 0], // Lvl 16
    [4, 3, 3, 3, 1, 0, 0, 0, 0], // Lvl 17
    [4, 3, 3, 3, 1, 0, 0, 0, 0], // Lvl 18
    [4, 3, 3, 3, 2, 0, 0, 0, 0], // Lvl 19
    [4, 3, 3, 3, 2, 0, 0, 0, 0], // Lvl 20
];

export const ARTIFICER_SLOTS = [
    // Class Level 1-20 (Artificer round up)
    [2, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 1
    [2, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 2
    [3, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 3
    [3, 0, 0, 0, 0, 0, 0, 0, 0], // Lvl 4
    [4, 2, 0, 0, 0, 0, 0, 0, 0], // Lvl 5
    [4, 2, 0, 0, 0, 0, 0, 0, 0], // Lvl 6
    [4, 3, 0, 0, 0, 0, 0, 0, 0], // Lvl 7
    [4, 3, 0, 0, 0, 0, 0, 0, 0], // Lvl 8
    [4, 3, 2, 0, 0, 0, 0, 0, 0], // Lvl 9
    [4, 3, 2, 0, 0, 0, 0, 0, 0], // Lvl 10
    [4, 3, 3, 0, 0, 0, 0, 0, 0], // Lvl 11
    [4, 3, 3, 0, 0, 0, 0, 0, 0], // Lvl 12
    [4, 3, 3, 1, 0, 0, 0, 0, 0], // Lvl 13
    [4, 3, 3, 1, 0, 0, 0, 0, 0], // Lvl 14
    [4, 3, 3, 2, 0, 0, 0, 0, 0], // Lvl 15
    [4, 3, 3, 2, 0, 0, 0, 0, 0], // Lvl 16
    [4, 3, 3, 3, 1, 0, 0, 0, 0], // Lvl 17
    [4, 3, 3, 3, 1, 0, 0, 0, 0], // Lvl 18
    [4, 3, 3, 3, 2, 0, 0, 0, 0], // Lvl 19
    [4, 3, 3, 3, 2, 0, 0, 0, 0], // Lvl 20
];

export const THIRD_CASTER_SLOTS = [
    // Class Level 1-20 (Eldritch Knight, Arcane Trickster)
    [0, 0, 0, 0, 0, 0, 0, 0, 0], // 1
    [0, 0, 0, 0, 0, 0, 0, 0, 0], // 2
    [2, 0, 0, 0, 0, 0, 0, 0, 0], // 3
    [3, 0, 0, 0, 0, 0, 0, 0, 0], // 4
    [3, 0, 0, 0, 0, 0, 0, 0, 0], // 5
    [3, 0, 0, 0, 0, 0, 0, 0, 0], // 6
    [4, 2, 0, 0, 0, 0, 0, 0, 0], // 7
    [4, 2, 0, 0, 0, 0, 0, 0, 0], // 8
    [4, 2, 0, 0, 0, 0, 0, 0, 0], // 9
    [4, 3, 0, 0, 0, 0, 0, 0, 0], // 10
    [4, 3, 0, 0, 0, 0, 0, 0, 0], // 11
    [4, 3, 0, 0, 0, 0, 0, 0, 0], // 12
    [4, 3, 2, 0, 0, 0, 0, 0, 0], // 13
    [4, 3, 2, 0, 0, 0, 0, 0, 0], // 14
    [4, 3, 2, 0, 0, 0, 0, 0, 0], // 15
    [4, 3, 3, 0, 0, 0, 0, 0, 0], // 16
    [4, 3, 3, 0, 0, 0, 0, 0, 0], // 17
    [4, 3, 3, 0, 0, 0, 0, 0, 0], // 18
    [4, 3, 3, 1, 0, 0, 0, 0, 0], // 19
    [4, 3, 3, 1, 0, 0, 0, 0, 0], // 20
];

export const WARLOCK_SLOTS = [
    // Warlock has unified slot level, meaning [num_slots, level_of_slots]
    [1, 1], // 1
    [2, 1], // 2
    [2, 2], // 3
    [2, 2], // 4
    [2, 3], // 5
    [2, 3], // 6
    [2, 4], // 7
    [2, 4], // 8
    [2, 5], // 9
    [2, 5], // 10
    [3, 5], // 11
    [3, 5], // 12
    [3, 5], // 13
    [3, 5], // 14
    [3, 5], // 15
    [3, 5], // 16
    [4, 5], // 17
    [4, 5], // 18
    [4, 5], // 19
    [4, 5], // 20
];

export function getSpellSlots(className: string, subclass: string, level: number): number[] {
    const lvlFixed = Math.max(1, Math.min(20, level)) - 1; // 0-indexed for arrays

    if (['Wizard', 'Sorcerer', 'Bard', 'Cleric', 'Druid'].includes(className)) {
        return FULL_CASTER_SLOTS[lvlFixed];
    }
    if (['Paladin', 'Ranger'].includes(className)) {
        return HALF_CASTER_SLOTS[lvlFixed];
    }
    if (className === 'Artificer') {
        return ARTIFICER_SLOTS[lvlFixed];
    }
    if (className === 'Fighter' && subclass === 'Eldritch Knight') {
        return THIRD_CASTER_SLOTS[lvlFixed];
    }
    if (className === 'Rogue' && subclass === 'Arcane Trickster') {
        return THIRD_CASTER_SLOTS[lvlFixed];
    }
    if (className === 'Warlock') {
        // Return an array of 9 ints, populating only the level of pact magic
        const res = [0, 0, 0, 0, 0, 0, 0, 0, 0];
        const [numSlots, slotLevel] = WARLOCK_SLOTS[lvlFixed];
        res[slotLevel - 1] = numSlots;
        return res;
    }

    return [0, 0, 0, 0, 0, 0, 0, 0, 0];
}
